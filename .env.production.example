# Cognify Production Environment Configuration
# IMPORTANT: Copy this to .env.production and set real values
# NEVER commit .env.production to version control!

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=Cognify RAG System
VERSION=2.0.0
ENVIRONMENT=production
DEBUG=false

# Server Settings
HOST=0.0.0.0
PORT=8000
WORKERS=4

# =============================================================================
# SECURITY SETTINGS - CRITICAL: CHANGE THESE IN PRODUCTION!
# =============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-production-secret-key-32-chars-minimum
JWT_SECRET_KEY=your-production-jwt-secret-key-32-chars-minimum
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=1

# Authentication (Strict for production)
PASSWORD_MIN_LENGTH=12
MAX_LOGIN_ATTEMPTS=3
ACCOUNT_LOCKOUT_MINUTES=60

# CORS (Restrict for production)
ALLOWED_ORIGINS=["https://yourdomain.com", "https://app.yourdomain.com"]
ALLOWED_HOSTS=["yourdomain.com", "app.yourdomain.com"]

# =============================================================================
# DATABASE SETTINGS
# =============================================================================
# Use strong passwords in production!
DB_PASSWORD=your-strong-database-password-here
DATABASE_URL=postgresql+asyncpg://cognify:${DB_PASSWORD}@localhost:5432/cognify_production
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_ECHO=false
DATABASE_POOL_RECYCLE=3600
DATABASE_POOL_PRE_PING=true

# =============================================================================
# VECTOR DATABASE SETTINGS
# =============================================================================
VECTOR_DB_TYPE=qdrant
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your-qdrant-api-key-if-needed
QDRANT_COLLECTION_NAME=cognify_production
VECTOR_DIMENSION=1536

# =============================================================================
# CACHE SETTINGS
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_DB=0
REDIS_PASSWORD=your-redis-password-if-needed
CACHE_TTL=3600

# =============================================================================
# AI/LLM SETTINGS - MANAGED VIA DATABASE
# =============================================================================
# NOTE: LLM provider settings are now managed via database
# Use the admin API to configure providers dynamically
# This section is kept for backward compatibility only

# LiteLLM Configuration (Universal LLM Proxy)
LITELLM_API_KEY=your-litellm-api-key-if-needed
LITELLM_BASE_URL=your-litellm-base-url-if-needed

# Legacy settings (will be migrated to database)
# These will be automatically migrated to database on first run
OPENAI_API_KEY=your-openai-api-key-for-migration
ANTHROPIC_API_KEY=your-anthropic-api-key-for-migration
GOOGLE_API_KEY=your-google-api-key-for-migration
AZURE_API_KEY=your-azure-api-key-for-migration
AWS_ACCESS_KEY_ID=your-aws-access-key-for-migration
AWS_SECRET_ACCESS_KEY=your-aws-secret-key-for-migration

# Default provider (will be set in database)
DEFAULT_LLM_PROVIDER=openai

# =============================================================================
# CHUNKING SETTINGS
# =============================================================================
CHUNKING_STRATEGY=hybrid
CHUNKING_QUALITY_THRESHOLD=0.9
CHUNKING_MAX_PROCESSING_TIME=60
CHUNKING_CACHE_TTL=7200

# =============================================================================
# AGENT SETTINGS
# =============================================================================
AGENT_MAX_ITERATIONS=5
AGENT_TIMEOUT=120
AGENT_MEMORY_ENABLED=true

# =============================================================================
# MONITORING SETTINGS
# =============================================================================
ENABLE_METRICS=true
SENTRY_DSN=your-sentry-dsn-for-error-tracking
SENTRY_TRACES_SAMPLE_RATE=0.1

# Grafana (for Docker Compose)
GRAFANA_PASSWORD=your-strong-grafana-password

# =============================================================================
# LOGGING SETTINGS
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# =============================================================================
# FILE PROCESSING SETTINGS
# =============================================================================
MAX_FILE_SIZE=52428800  # 50MB
SUPPORTED_LANGUAGES=["python", "javascript", "typescript", "go", "java", "rust", "cpp"]

# =============================================================================
# RATE LIMITING (Strict for production)
# =============================================================================
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_BURST=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
MAX_CONNECTIONS=100
POOL_SIZE=20
ENABLE_CACHING=true
ENABLE_COMPRESSION=true

# =============================================================================
# FEATURE FLAGS (Production)
# =============================================================================
ENABLE_SWAGGER_UI=false
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_ENTERPRISE_FEATURES=true
